{"version":3,"sources":["src/PNotifyMobile.html"],"names":[],"mappings":"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","sourcesContent":["<script>\n  import PNotify from './PNotify.html';\n\n  export default {\n    setup (Component) {\n      Component.key = 'Mobile';\n\n      Component.defaults = {\n        // Let the user swipe the notice away.\n        swipeDismiss: true,\n        // Styles the notice to look good on mobile.\n        styling: true\n      };\n\n      Component.init = (notice) => {\n        return new Component({ target: document.body });\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Mobile = Component;\n    },\n\n    oncreate () {\n      this.set({ '_doMobileStylingBound': this.doMobileStyling.bind(this) });\n    },\n\n    data () {\n      return Object.assign({\n        '_notice': null, // The PNotify notice.\n        '_options': {} // The options for the notice.\n      }, PNotify.modules.Mobile.defaults);\n    },\n\n    methods: {\n      initModule (options) {\n        this.set(options);\n\n        const { _notice } = this.get();\n        let origXY = null;\n        let diffXY = null;\n        let noticeWidthHeight = null;\n        let noticeOpacity = null;\n        let csspos = 'left';\n        let direction = 'X';\n        let span = 'Width';\n\n        _notice.on('touchstart', (e) => {\n          if (!this.get().swipeDismiss) {\n            return;\n          }\n\n          const { stack } = _notice.get();\n          if (stack !== false) {\n            switch (stack.dir1) {\n              case 'up':\n              case 'down':\n                csspos = 'left';\n                direction = 'X';\n                span = 'Width';\n                break;\n              case 'left':\n              case 'right':\n                csspos = 'top';\n                direction = 'Y';\n                span = 'Height';\n                break;\n            }\n          }\n\n          origXY = e.touches[0]['screen' + direction];\n          noticeWidthHeight = _notice.refs.elem['scroll' + span];\n          noticeOpacity = window.getComputedStyle(_notice.refs.elem)['opacity'];\n          _notice.refs.container.style[csspos] = 0;\n        });\n\n        _notice.on('touchmove', (e) => {\n          if (!origXY || !this.get().swipeDismiss) {\n            return;\n          }\n\n          const curXY = e.touches[0]['screen' + direction];\n\n          diffXY = curXY - origXY;\n          const opacity = (1 - (Math.abs(diffXY) / noticeWidthHeight)) * noticeOpacity;\n\n          _notice.refs.elem.style.opacity = opacity;\n          _notice.refs.container.style[csspos] = diffXY + 'px';\n        });\n\n        _notice.on('touchend', () => {\n          if (!origXY || !this.get().swipeDismiss) {\n            return;\n          }\n\n          _notice.refs.container.classList.add('ui-pnotify-mobile-animate-left');\n          if (Math.abs(diffXY) > 40) {\n            const goLeft = (diffXY < 0) ? noticeWidthHeight * -2 : noticeWidthHeight * 2;\n            _notice.refs.elem.style.opacity = 0;\n            _notice.refs.container.style[csspos] = goLeft + 'px';\n            _notice.close();\n          } else {\n            _notice.refs.elem.style.removeProperty('opacity');\n            _notice.refs.container.style.removeProperty(csspos);\n          }\n          origXY = null;\n          diffXY = null;\n          noticeWidthHeight = null;\n          noticeOpacity = null;\n        });\n\n        _notice.on('touchcancel', () => {\n          if (!origXY || !this.get().swipeDismiss) {\n            return;\n          }\n\n          _notice.refs.elem.style.removeProperty('opacity');\n          _notice.refs.container.style.removeProperty(csspos);\n          origXY = null;\n          diffXY = null;\n          noticeWidthHeight = null;\n          noticeOpacity = null;\n        });\n\n        this.doMobileStyling();\n      },\n\n      update () {\n        this.doMobileStyling();\n      },\n\n      beforeOpen () {\n        // Add an event listener to watch the window resizes.\n        window.addEventListener('resize', this.get()._doMobileStylingBound);\n      },\n\n      afterClose () {\n        // Remove the event listener.\n        window.removeEventListener('resize', this.get()._doMobileStylingBound);\n\n        // Remove any styling we added to close it.\n        if (!this.get().swipeDismiss) {\n          return;\n        }\n\n        const { _notice } = this.get();\n        _notice.refs.elem.style.removeProperty('opacity');\n        _notice.refs.container.style.removeProperty('left');\n        _notice.refs.container.style.removeProperty('top');\n      },\n\n      doMobileStyling () {\n        const { _notice } = this.get();\n        const { stack } = _notice.get();\n\n        if (this.get().styling) {\n          if (stack !== false) {\n            if (window.innerWidth <= 480) {\n              if (!stack.mobileOrigSpacing1) {\n                stack.mobileOrigSpacing1 = stack.spacing1;\n              }\n              stack.spacing1 = 0;\n              if (!stack.mobileOrigFirstpos1) {\n                stack.mobileOrigFirstpos1 = stack.firstpos1;\n              }\n              stack.firstpos1 = 0;\n              if (!stack.mobileOrigSpacing2) {\n                stack.mobileOrigSpacing2 = stack.spacing2;\n              }\n              stack.spacing2 = 0;\n              if (!stack.mobileOrigFirstpos2) {\n                stack.mobileOrigFirstpos2 = stack.firstpos2;\n              }\n              stack.firstpos2 = 0;\n            } else {\n              if (stack.mobileOrigSpacing1) {\n                stack.spacing1 = stack.mobileOrigSpacing1;\n                delete stack.mobileOrigSpacing1;\n              }\n              if (stack.mobileOrigFirstpos1) {\n                stack.firstpos1 = stack.mobileOrigFirstpos1;\n                delete stack.mobileOrigFirstpos1;\n              }\n              if (stack.mobileOrigSpacing2) {\n                stack.spacing2 = stack.mobileOrigSpacing2;\n                delete stack.mobileOrigSpacing2;\n              }\n              if (stack.mobileOrigFirstpos2) {\n                stack.firstpos2 = stack.mobileOrigFirstpos2;\n                delete stack.mobileOrigFirstpos2;\n              }\n            }\n            switch (stack.dir1) {\n              case 'down':\n                _notice.addModuleClass('ui-pnotify-mobile-top');\n                break;\n              case 'up':\n                _notice.addModuleClass('ui-pnotify-mobile-bottom');\n                break;\n              case 'left':\n                _notice.addModuleClass('ui-pnotify-mobile-right');\n                break;\n              case 'right':\n                _notice.addModuleClass('ui-pnotify-mobile-left');\n                break;\n            }\n          }\n\n          _notice.addModuleClass('ui-pnotify-mobile-able');\n        } else {\n          _notice.removeModuleClass(\n            'ui-pnotify-mobile-able',\n            'ui-pnotify-mobile-top',\n            'ui-pnotify-mobile-bottom',\n            'ui-pnotify-mobile-right',\n            'ui-pnotify-mobile-left'\n          );\n\n          if (stack !== false) {\n            if (stack.mobileOrigSpacing1) {\n              stack.spacing1 = stack.mobileOrigSpacing1;\n              delete stack.mobileOrigSpacing1;\n            }\n            if (stack.mobileOrigFirstpos1) {\n              stack.firstpos1 = stack.mobileOrigFirstpos1;\n              delete stack.mobileOrigFirstpos1;\n            }\n            if (stack.mobileOrigSpacing2) {\n              stack.spacing2 = stack.mobileOrigSpacing2;\n              delete stack.mobileOrigSpacing2;\n            }\n            if (stack.mobileOrigFirstpos2) {\n              stack.firstpos2 = stack.mobileOrigFirstpos2;\n              delete stack.mobileOrigFirstpos2;\n            }\n          }\n        }\n      }\n    }\n  };\n</script>\n\n<style>\n  :global([ui-pnotify] .ui-pnotify-container) {\n    position: relative;\n  }\n  :global([ui-pnotify] .ui-pnotify-mobile-animate-left) {\n    transition: left .1s ease;\n  }\n  :global([ui-pnotify] .ui-pnotify-mobile-animate-top) {\n    transition: top .1s ease;\n  }\n  @media (max-width: 480px) {\n    /* -- Notice */\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able) {\n      font-size: 1.2em;\n      -webkit-font-smoothing: antialiased;\n      -moz-font-smoothing: antialiased;\n      -ms-font-smoothing: antialiased;\n      font-smoothing: antialiased;\n    }\n    :global(body > [ui-pnotify].ui-pnotify.ui-pnotify-mobile-able) {\n      position: fixed;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-top),\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-bottom) {\n      width: 100% !important;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-left),\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-right) {\n      height: 100% !important;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able .ui-pnotify-shadow) {\n      -webkit-box-shadow: none;\n      -moz-box-shadow: none;\n      box-shadow: none;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-top .ui-pnotify-shadow) {\n      border-bottom-width: 5px;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-bottom .ui-pnotify-shadow) {\n      border-top-width: 5px;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-left .ui-pnotify-shadow) {\n      border-right-width: 5px;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-right .ui-pnotify-shadow) {\n      border-left-width: 5px;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able .ui-pnotify-container) {\n      -webkit-border-radius: 0;\n      -moz-border-radius: 0;\n      border-radius: 0;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-top .ui-pnotify-container),\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-bottom .ui-pnotify-container) {\n      width: auto !important;\n    }\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-left .ui-pnotify-container),\n    :global([ui-pnotify].ui-pnotify.ui-pnotify-mobile-able.ui-pnotify-mobile-right .ui-pnotify-container) {\n      height: 100% !important;\n    }\n  }\n</style>\n"]}
/*!
 * Bootstrap Anchor v0.0.1 (http://markcarver.github.io/bootstrap-anchor/)
 * Copyright 2015 Mark Carver
 * Dual licensed under MIT/GLPv2 (https://github.com/markcarver/bootstrap-anchor/blob/master/LICENSE)
 */
+function(a,b){"use strict";function c(b){var c=a.extend([],arguments);c.shift();var d=this.selector;return this.each(function(){var f=a(this),g=f.data("bs.anchor"),h="object"==typeof b&&b;g||f.data("bs.anchor",g=new e(this,h,d)),"string"==typeof b&&g[b].apply(g,c)})}var d=a.fn.tooltip&&a.fn.tooltip.Constructor,e=function(a,b,c){this.$anchor=null,this.$container=null,this.$delegates=null,this.dom=null,this.enabled=null,this.link=null,this.id=null,this.originalId=null,this.scrollTop=null,this.scrolling=null,this.init("anchor",a,b,c)};if(e.VERSION="0.0.1",e.checkVersion=function(a,b){if(!a)return!1;var c,d=a.split("."),e=b.split(".");for(c=0;c<d.length;++c)d[c]=Number(d[c]);for(c=0;c<e.length;++c)e[c]=Number(e[c]);return d[0]>e[0]?!0:d[0]<e[0]?!1:d[1]>e[1]?!0:d[1]<e[1]?!1:d[2]>e[2]?!0:d[2]>=e[2]},!d||!e.checkVersion(d.VERSION,"3.3.4"))throw new Error("Bootstrap Anchor requires the Bootstrap tooltip.js plugin, version 3.3.4 or greater.");e.proxy=function(a,b){return b=b||d,function(){b.prototype[a].apply(this.getDelegate.apply(this,arguments),arguments)}},e.DEFAULTS=a.extend({},d.DEFAULTS,{anchors:"h1,h2,h3,h4,[data-anchor]",anchorContainer:!0,anchorDuration:300,anchorFindNamed:!1,anchorGenerateId:!0,anchorHistory:"append",anchorIcon:'<span class="glyphicon glyphicon-link" aria-hidden="true"></span>',anchorIgnore:'[data-anchor-ignore]:not([data-anchor-ignore="false"]),[data-dismiss],[data-slide],[data-toggle]:not([data-toggle="anchor"])',anchorLinks:'a[href*="#"],[data-toggle="anchor"]',anchorNormalizeId:{separator:"-",convertCamel:!0,convertCase:"lower",convert:/[\s_.(){}\[\]]/g,strip:/[^\w-]/gi,singleSeparator:!0,trim:!0,maxLength:32},anchorPrefixId:!1,anchorUniqueId:!0,anchorOffset:20,anchorTarget:!1,scrollOnHashchange:!0,scrollOnLoad:!0,placement:"auto left",template:'<span class="anchor-link text-primary" role="tooltip"><a href="#"></a></span>',trigger:{anchors:"hover focus",links:"click"},viewport:{selector:"body",padding:0}}),e.prototype=a.extend({},d.prototype);for(var f=["enter","leave","hide","show","toggle"],g=0,h=f.length;h>g;g++)e.prototype[f[g]]=e.proxy(f[g]);e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(c,d){var e=this.$element.data()||null,f=this.getDefaults();d=d&&!this.dom&&{anchors:d}||null;var g=!this.dom&&f.anchorContainer;if(e.anchorContainer!==b?g=e.anchorContainer||null:c.anchorContainer!==b&&(g=c.anchorContainer||null),g){var h="string"==typeof g&&a(g);h&&h[0]||(h=this.$element.parent().closest("[data-anchor-container]")),g=h[0]&&h.data()||null}return c=a.extend(!0,{},f,d,c,g,e),c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),c},e.prototype.getPosition=function(a){return a||this.options.previousContainer?this.options.previousContainer&&(this.options.container=this.options.previousContainer,delete this.options.previousContainer):(this.options.previousContainer=this.options.container,this.options.container=this.$viewport),a||(a=this.getContainer()),d.prototype.getPosition.apply(this,[a])},e.prototype.hasContent=function(){return!!(!this.isLink()&&this.id&&this.$anchor&&this.$anchor.is(this.options.anchors)&&this.options.anchorIcon)},e.prototype.setContent=function(){var a=this,b=this.tip().removeClass("fade in");b.find("a").attr("href","#"+this.id).off("click.bs."+this.type).on("click.bs."+this.type,function(b){b.preventDefault(),b.stopPropagation(),a.scrollTo()}).html(this.options.anchorIcon)},e.prototype.init=function(b,c,d,e){if(null===this.enabled){var f=this;if(this.enabled=!0,this.type=b,this.dom=this.isDOM(c),this.$element=a(this.dom?document:c),this.options=this.getOptions(d,e),this.$anchor=this.getAnchor(),this.$delegates=!1,this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport),this.link=this.isLink(),this.id=this.getID(),this.bind(),this.dom){var g=a(window);this._options=a.extend({},this.options,{trigger:"manual"}),g.on("scroll.bs."+this.type,function(){f.scrollTop=f.getPosition(f.$viewport).scroll}),this.options.scrollOnLoad&&g.on("load.bs."+this.type,a.proxy(this.scrollToHash,this)),this.options.scrollOnHashchange&&g.on("hashchange.bs."+this.type,a.proxy(this.scrollToHash,this)),a.fn.scrollspy&&this.$element.on("change.bs.anchor",function(){"complete"===document.readyState&&a('[data-spy="scroll"]').scrollspy("refresh")}),a(function(){f.$delegates=a(f.options.anchors).not(f.getExclude()).anchor(f._options)})}else this.link||(this.id||(this.$anchor=!1),this.$anchor&&this.hasContent()&&(this.options.originalContainer=this.options.container,this.options.container=this.getContainer()))}},e.prototype.bind=function(){var b=this,c=this.dom||this.isLink();if(this.dom&&!this.options.anchors&&!this.options.anchorLinks)throw new Error("`anchors` or `anchorLinks` option must be specified when initializing "+this.type+" on any top level DOM object!");if(this.dom||c||this.hasContent()){var d=this.getExclude(),e=this.dom||!d?this.$element:this.$element.not(d),f=function(a){var c="anchors"===a?"> ."+b.type+"-wrapper":"",e="anchors"===a&&b.options.anchors||"links"===a&&b.options.anchorLinks||"";if(!b.dom)return c||null;var f=function(a){for(var b=e&&e.split(/\s*,\s*(?![^(]*\))/gi)||[],c=0,d=b.length;d>c;c++)b[c]=a.apply(this,[b[c],b]);return b.join(",")};return f(function(a){return a+":not("+d+")"+c})},g=this.getTriggers();for(var h in g)if(g.hasOwnProperty(h))for(var i=f(h),j="string"==typeof g[h]&&g[h].split(" ")||[],k=j.length;k--;){var l=j[k];"click"===l?"links"===h&&c?e.on("click.bs."+this.type,i,a.proxy(this.scrollTo,this)):e.on("click.bs."+this.type,i,a.proxy(this.toggle,this)):"anchors"===h&&"manual"!==l&&(e.on(("hover"===l?"mouseenter":"focusin")+".bs."+this.type,i,a.proxy(this.enter,this)),e.on(("hover"===l?"mouseleave":"focusout")+".bs."+this.type,i,a.proxy(this.leave,this)))}}},e.prototype.getAnchor=function(){if(null!==this.$anchor)return this.$anchor||!1;var b,c=this.$element[0];if(this.dom)return!1;if(this.options.anchorTarget)return b=a(this.options.anchorTarget).first(),b[0]&&b||!1;if(this.isLink()){var d=c&&"A"===this.$element[0].nodeName&&c.host===window.location.host&&c.pathname===window.location.pathname&&c.search===window.location.search&&c.hash;return d=d&&d.replace(/^#/,"")||d,d&&d.length?(b=a("#"+d+', a[name="'+d+'"]').first(),b[0]&&b||!1):!1}return c&&this.$element||!1},e.prototype.getContainer=function(){if(!this.hasContent())return this.$anchor;if(this.$container)return this.$container;if(this.$container=this.$anchor.find(">."+this.type+"-wrapper"),this.$container[0])return this.$container;var b=this.$anchor[0],c=document.createElement("span");for(c.className="anchor-wrapper";b.childNodes.length;)c.appendChild(b.removeChild(b.childNodes[0]));return b.insertBefore(c,b.firstChild),this.$container=a(c),this.$container},e.prototype.getDelegate=function(b,c){if(b instanceof this.constructor)return b;c=c||b instanceof jQuery.Event&&a(b.currentTarget)||a(),c.is("."+this.type+"-wrapper")&&(c=c.parent(),b.currentTarget&&(b.currentTarget=c[0]));var d=c.data("bs."+this.type);return d||this.dom?(!d&&c[0]&&c.data("bs."+this.type,d=new this.constructor(c[0],this.getDelegateOptions())),d||this):this},e.prototype.getExclude=function(){var a=this.options.anchorIgnore||!1;return a&&"function"==typeof a&&(a=this.options.anchorIgnore.call(this)),a&&"string"!=typeof this.options.anchorIgnore&&(a=!1),a},e.prototype.getID=function(a){if(this.dom)return this.id=this.originalId=!1,this.id;var b="function"==typeof this.options.id||"function"==typeof this.options.originalId;if(null!==this.id&&!b&&!a)return this.id;if(this.originalId="function"==typeof this.options.originalId&&this.options.originalId.call(this)||this.options.originalId||!1,this.id="function"==typeof this.options.id&&this.options.id.call(this)||this.options.id||this.originalId||!1,!this.id){var c=this.$element[0],d=c&&c.id||c&&"A"===c.nodeName&&c.name;if(!d&&this.options.anchorFindNamed)for(var e,f=["next","prev","find"],g=f.length;g--;)if(e=this.$element[f[g]]("a[name]:empty"),e[0]&&!d){d=e[0].id||e[0].name;break}d&&this.$element.removeAttr("id"),c&&"A"===c.nodeName&&c.name&&this.$element.removeAttr("name"),this.id=this.originalId=d||!1,this.id||!this.options.anchorGenerateId||this.isLink()||(this.id=this.$anchor.text()||!1,this.id&&(this.options.anchorNormalizeId&&(this.id=this.normalizeId(this.id)),this.options.anchorPrefixId&&(this.id=this.options.anchorPrefixId+"-"+this.id),this.options.anchorUniqueId&&(this.id=this.getUID(this.id)))),this.$element.attr("data-original-id",this.originalId.toString()),this.id&&this.$element.attr("id",this.id).attr("data-id",this.id)}return this.id!==this.originalId&&this.$element.trigger("change.bs.anchor",this),this.id},e.prototype.getTop=function(){var a="fixed"===this.$anchor.css("position")?this.$anchor[0].offsetTop:this.getPosition(this.$anchor).top;return a-=parseInt(this.$viewport.css("margin-top"),10)||0,a-=parseInt(this.$viewport.css("padding-top"),10)||0,this.options.anchorOffset&&(a-=parseInt(this.options.anchorOffset,10)),0>a?0:a},e.prototype.getTriggers=function(){var b=this.options.trigger||!1;return b&&"function"==typeof b&&(b=b.call(this)),b&&"string"==typeof b&&(b={anchors:b,links:b}),a.isPlainObject(b)||(b=!1),b},e.prototype.getUID=function(a){for(var b=0,c=""+a;document.getElementById(a);)b++,a=c+"-"+b;return a},e.prototype.isDOM=function(a,b){return b||null===this.dom?(a=a||this.$element&&this.$element[0],a&&(a instanceof document.constructor||a instanceof window.constructor||a instanceof HTMLHtmlElement||a instanceof HTMLBodyElement)):this.dom},e.prototype.isLink=function(a){if(this.dom)return!1;if(!a&&null!==this.link)return this.link;var b=this.getExclude();return this.options.anchorLinks&&b?this.$element.not(b).is(this.options.anchorLinks):this.$element.is(this.options.anchorLinks)},e.prototype.normalizeId=function(a){var b=this.options.anchorNormalizeId;if(!b||"object"!=typeof b)return a;var c=b.separator||"",d=c&&c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")||"";return b.convertCamel&&(a=a.replace(/[A-Z]/g,function(a){return c+a})),b.convertCase&&(a="upper"===b.convertCase?a.toUpperCase():a.toLowerCase()),b.convert&&(a=a.replace(b.convert,c)),b.strip&&(a=a.replace(b.strip,"")),b.singleSeparator&&(a=a.replace(new RegExp(d+"+","g"),c)),b.trim&&(a=a.replace(new RegExp("^"+d+"*|"+d+"*$","g"),"")),b.maxLength&&(a=a.substring(0,b.maxLength)),a||!1},e.prototype.scrollTo=function(b){var c=this,d=c.getDelegate.apply(c,arguments);if(d.$anchor&&a.contains(document,d.$anchor[0])&&d.enabled&&!d.scrolling&&!c.scrolling){if(d.link)return b&&b.preventDefault(),d.$element.trigger("blur.bs."+d.type),void c.scrollTo.apply(c,[null,d.$anchor]);var e=a.Event("scroll.bs."+d.type);if(!e.isDefaultPrevented()){var f=d.getTop(),g=a.Deferred();g.then(function(){d.scrolling=c.scrolling=!0}).then(function(){return d.options.animation&&d.options.anchorDuration&&d.options.anchorDuration>0?d.$viewport.stop(!0).animate({scrollTop:f},{anchorDuration:d.options.anchorDuration}).promise():d.$viewport.scrollTop(f).promise()}).then(function(){return d.updateHistory.call(d)}).then(function(){d.scrolling=c.scrolling=!1,d.$element.trigger("focus.bs."+d.type),d.$element.trigger("scrolled.bs."+d.type)}),g.resolve()}}},e.prototype.scrollToHash=function(b){if(this.enabled&&!this.scrolling){"complete"===document.readyState&&null!==this.scrollTop&&this.$viewport.scrollTop(this.scrollTop),b=b&&"string"==typeof b&&b.replace(/^#/,"")||window.location.hash.replace(/^#/,"");var c=b&&document.getElementById(b)||document.getElementsByName(b);c&&a(c).anchor("scrollTo")}},e.prototype.updateHistory=function(){var b=this;return a.Deferred(function(c){var d=b.options.anchorHistory;if("function"==typeof d&&(d=d.call(b)||!1),!d||"append"!==d&&"replace"!==d)return c.resolve();var e=b.getID();b.$element.attr("id","");var f=a('<div id="'+e+'"></div>').css({position:"absolute",visibility:"hidden",top:b.getTop()+"px"}).appendTo(b.$viewport);"replace"===d&&window.anchorHistory&&window.anchorHistory.replaceState?window.anchorHistory.replaceState(null,null,"#"+b.id):window.location.hash=e,f.remove(),b.$element.attr("id",e),setTimeout(function(){c.resolve()},10)})};var i=a.fn.anchor;a.fn.anchor=c,a.fn.anchor.Constructor=e,a.fn.anchor.noConflict=function(){return a.fn.anchor=i,this}}(jQuery);